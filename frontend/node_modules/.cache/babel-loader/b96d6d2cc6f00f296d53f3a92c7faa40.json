{"ast":null,"code":"import _slicedToArray from \"/home/manjukrishna/Desktop/web_mini_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/manjukrishna/Desktop/web_mini_project/frontend/src/components/Department.jsx\";\nimport React from \"react\";\nimport Deptright from \"./Departmentright\";\nimport Loading from \"./LoadingContent\";\nexport default function Dept(_ref) {\n  var routes = _ref.routes;\n\n  function getDept() {\n    var str = window.location.pathname.split(\"/\");\n    var res = \"\";\n    var fres = \"\";\n\n    for (var i = 0; i < str.length; i++) {\n      res += str[i];\n    }\n\n    res = res.split(\"%20\");\n\n    for (var _i = 0; _i < res.length; _i++) {\n      fres += res[_i] + \" \";\n    }\n\n    console.log(fres.trim());\n    return fres.trim();\n  }\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      sections = _React$useState2[0],\n      setSection = _React$useState2[1];\n\n  var _React$useState3 = React.useState(true),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      loading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  var _React$useState5 = React.useState(1),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      flag1 = _React$useState6[0],\n      setFlag1 = _React$useState6[1];\n\n  function setLoad() {\n    setLoading(false);\n  }\n\n  var flag = function flag() {\n    setFlag1(!flag);\n  };\n\n  React.useEffect(function () {\n    fetch(\"/getSection\", {\n      method: \"POST\",\n      cache: \"no-cache\",\n      headers: {\n        \"content_type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        dept: getDept()\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      console.log(json.sections);\n      var arr = [];\n      json.sections.map(function (item, index) {\n        arr.push({\n          section_id: item[0],\n          section_name: item[1]\n        });\n      });\n      json.no_of_students.map(function (item, index) {\n        for (var i = 0; i < arr.length; i++) {\n          if (item[0] == arr[i].section_id) {\n            arr[i].no_of_students = item[1];\n            arr[i].no_of_subjects = item[2];\n          }\n        }\n      });\n      console.log(arr);\n      setSection(arr);\n    });\n    setTimeout(setLoad, 2000);\n  }, [getDept(), flag1]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, !loading ? /*#__PURE__*/React.createElement(Deptright, {\n    section: sections,\n    flag: setFlag,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 19\n    }\n  }) : /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 68\n    }\n  }));\n}","map":{"version":3,"sources":["/home/manjukrishna/Desktop/web_mini_project/frontend/src/components/Department.jsx"],"names":["React","Deptright","Loading","Dept","routes","getDept","str","window","location","pathname","split","res","fres","i","length","console","log","trim","useState","sections","setSection","loading","setLoading","flag1","setFlag1","setLoad","flag","useEffect","fetch","method","cache","headers","body","JSON","stringify","dept","then","json","arr","map","item","index","push","section_id","section_name","no_of_students","no_of_subjects","setTimeout","height","setFlag"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Deptright from \"./Departmentright\";\nimport Loading from \"./LoadingContent\";\n\nexport default function Dept({ routes }) {\n  function getDept() {\n    let str = window.location.pathname.split(\"/\");\n    let res = \"\";\n    let fres = \"\";\n    for (let i = 0; i < str.length; i++) res += str[i];\n    res = res.split(\"%20\");\n    for (let i = 0; i < res.length; i++) fres += res[i] + \" \";\n    console.log(fres.trim())\n    return fres.trim();\n  }\n  const [sections,setSection] = React.useState([]);\n  const [loading,setLoading]=React.useState(true);\n  const [flag1,setFlag1]=React.useState(1);\n  function setLoad(){\n    setLoading(false);\n  }\n  \n  const flag=()=>{\n    setFlag1(!flag);\n  }\n  React.useEffect(()=>{\n    fetch(\"/getSection\",{\n      method:\"POST\",\n      cache:\"no-cache\",\n      headers:{\n        \"content_type\":\"application/json\",\n      },\n      body:JSON.stringify({dept:getDept()})\n     }).then(res=>{\n       return res.json()\n    }).then(json=>{\n      console.log(json.sections);\n      const arr=[]\n     \n      json.sections.map((item,index)=>{\n        arr.push({section_id:item[0],section_name:item[1]})\n      });\n      json.no_of_students.map((item,index)=>{\n        for(let i=0;i<arr.length;i++){\n           if(item[0]==arr[i].section_id){\n           arr[i].no_of_students=item[1];\n           arr[i].no_of_subjects=item[2];\n          }\n\n        }\n      })\n      console.log(arr);\n      setSection(arr);      \n    })\n   setTimeout(setLoad,2000)\n  },[getDept(),flag1]);\n\n  return (\n    <div style={{ height: \"100%\" }}>\n      {!loading ? <Deptright section={sections} flag={setFlag}/> : <Loading/>}    \n   </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
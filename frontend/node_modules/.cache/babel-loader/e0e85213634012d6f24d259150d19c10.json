{"ast":null,"code":"import _objectSpread from \"/home/manjukrishna/Desktop/web_mini_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/manjukrishna/Desktop/web_mini_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/manjukrishna/Desktop/web_mini_project/frontend/src/components/RegisterCollege.jsx\";\nimport React from \"react\";\nimport Submit from \"./SubmitRegisterCollege\";\nimport \"./Regsiter.css\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { useHistory } from \"react-router-dom\";\nexport default function Register() {\n  var history = useHistory();\n  var str = \"admin.webiclass@\";\n\n  var _React$useState = React.useState({\n    collegeUrl: \"\",\n    admin: \"\"\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      credentials = _React$useState2[0],\n      setCredentials = _React$useState2[1];\n\n  var _React$useState3 = React.useState(true),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      disabled = _React$useState4[0],\n      setDisabled = _React$useState4[1];\n\n  React.useEffect(function () {\n    var res = function res() {\n      var urlFormat = /(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})+/gi;\n      if (credentials.collegeUrl.match(urlFormat)) return false;\n      return true;\n    };\n\n    var fans = res();\n    setDisabled(fans);\n  }, [credentials]);\n\n  var validate = function validate() {\n    setDisabled(false);\n    var name = \"admin\";\n    var removed = credentials.collegeUrl.split(\"www.\").pop();\n    var final = removed.replace(/\\//g, \"\");\n    setCredentials(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        [name]: final\n      });\n    });\n  };\n\n  function handleChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setCredentials(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        [name]: value\n      });\n    });\n  }\n\n  function handleClick() {\n    fetch(\"/register-college\", {\n      method: \"POST\",\n      cache: \"no-cache\",\n      headers: {\n        \"content_type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        url: credentials.url,\n        admin: credentials.admin\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      console.log(data);\n    });\n    history.push(\"/login\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"register-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"register-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"register-logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"W\"), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"register-signUp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"Register College\"), /*#__PURE__*/React.createElement(TextField, {\n    name: \"collegeUrl\",\n    value: credentials.collegeUrl,\n    label: /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontFamily: '\"Nunito\", sans-serif'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, \"College url\"),\n    placeholder: \"Eg. www.abc.com\",\n    onChange: handleChange,\n    className: \"register-email\",\n    inputProps: {\n      min: 0,\n      style: {\n        fontFamily: '\"Nunito\", sans-serif'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }), !!credentials.admin && /*#__PURE__*/React.createElement(TextField, {\n    value: str + credentials.admin,\n    label: /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontFamily: '\"Nunito\", sans-serif'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, \"College admin\"),\n    inputProps: {\n      min: 0,\n      style: {\n        fontFamily: '\"Nunito\", sans-serif'\n      }\n    },\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"85%\",\n      marginLeft: \"7.5%\",\n      marginTop: \"50px\"\n    },\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Submit, {\n    disabled: disabled,\n    validate: validate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"40px\",\n      fontSize: \"14px\",\n      cursor: \"pointer\"\n    },\n    className: \"register-login\",\n    onClick: function onClick() {\n      history.push(\"/login\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, \"Click here to login.\")));\n}","map":{"version":3,"sources":["/home/manjukrishna/Desktop/web_mini_project/frontend/src/components/RegisterCollege.jsx"],"names":["React","Submit","TextField","useHistory","Register","history","str","useState","collegeUrl","admin","credentials","setCredentials","disabled","setDisabled","useEffect","res","urlFormat","match","fans","validate","name","removed","split","pop","final","replace","prev","handleChange","e","target","value","handleClick","fetch","method","cache","headers","body","JSON","stringify","url","then","response","json","data","console","log","push","fontFamily","min","style","marginTop","width","marginLeft","fontSize","cursor"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Submit from \"./SubmitRegisterCollege\";\nimport \"./Regsiter.css\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { useHistory } from \"react-router-dom\";\nexport default function Register() {\n  const history = useHistory();\n  const str = \"admin.webiclass@\";\n  const [credentials, setCredentials] = React.useState({\n    collegeUrl: \"\",\n    admin: \"\"\n  });\n  const [disabled, setDisabled] = React.useState(true);\n\n  React.useEffect(() => {\n    const res = () => {\n      var urlFormat = /(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})+/gi;\n\n      if (credentials.collegeUrl.match(urlFormat)) return false;\n      return true;\n    };\n    const fans = res();\n    setDisabled(fans);\n  }, [credentials]);\n\n  const validate = () => {\n    setDisabled(false);\n    const name = \"admin\";\n    const removed = credentials.collegeUrl.split(\"www.\").pop();\n    const final = removed.replace(/\\//g, \"\");\n    setCredentials((prev) => {\n      return {\n        ...prev,\n        [name]: final\n      };\n    });\n  };\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setCredentials((prev) => {\n      return {\n        ...prev,\n        [name]: value\n      };\n    });\n  }\n\n  function handleClick(){\n    fetch(\"/register-college\",{\n      method:\"POST\",\n      cache:\"no-cache\",\n      headers:{\n        \"content_type\":\"application/json\",\n      },\n      body:JSON.stringify({url:credentials.url,admin:credentials.admin})\n     }).then(response=>response.json()).then(data=>{console.log(data);});\n    history.push(\"/login\");\n  }\n  return (\n    <div className=\"register-body\">\n      <div className=\"register-container\">\n        <div className=\"register-logo\">W</div>\n        <h1 className=\"register-signUp\">Register College</h1>\n        <TextField\n          name=\"collegeUrl\"\n          value={credentials.collegeUrl}\n          label={\n            <span style={{ fontFamily: '\"Nunito\", sans-serif' }}>\n              College url\n            </span>\n          }\n          placeholder=\"Eg. www.abc.com\"\n          onChange={handleChange}\n          className=\"register-email\"\n          inputProps={{\n            min: 0,\n            style: { fontFamily: '\"Nunito\", sans-serif' }\n          }}\n        />\n        {!!credentials.admin && (\n          <TextField\n            value={str + credentials.admin}\n            label={\n              <span style={{ fontFamily: '\"Nunito\", sans-serif' }}>\n                College admin\n              </span>\n            }\n            inputProps={{\n              min: 0,\n              style: { fontFamily: '\"Nunito\", sans-serif' }\n            }}\n            style={{ marginTop: \"20px\" }}\n          />\n        )}\n        <div style={{ width: \"85%\", marginLeft: \"7.5%\", marginTop: \"50px\" }} onClick={handleClick}>\n          <Submit disabled={disabled} validate={validate} />\n        </div>\n        <div\n          style={{ marginTop: \"40px\", fontSize: \"14px\", cursor: \"pointer\" }}\n          className=\"register-login\"\n          onClick={() => {\n            history.push(\"/login\");\n          }}\n        >\n          Click here to login.\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from \"/home/manjukrishna/Desktop/web_mini_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/manjukrishna/Desktop/web_mini_project/frontend/src/components/Sectionright.jsx\";\nimport React from \"react\";\nimport Table from \"./DescTable\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport AddMaterial from \"./AddMaterial\";\nimport Loading from \"./LoadingContent\";\nimport { isHod, isFaculty, dept } from \"./Util\";\nimport AddClass from \"./AddClassLink\";\nexport default function Secright(props) {\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      materials = _React$useState2[0],\n      setMaterials = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      a = _React$useState4[0],\n      ab = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      flag = _React$useState6[0],\n      setFla = _React$useState6[1];\n\n  var _React$useState7 = React.useState(true),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      loading = _React$useState8[0],\n      setLoading = _React$useState8[1];\n\n  function setLoad() {\n    setLoading(false);\n  }\n\n  React.useEffect(function () {\n    fetch(\"/getSectionTable\", {\n      method: \"POST\",\n      cache: \"no-cache\",\n      headers: {\n        \"content_type\": \"application/json\"\n      },\n      body: JSON.stringify(props.secId)\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      var arr = [];\n      data.material.map(function (item, index) {\n        return arr.push({\n          link: item[0],\n          desc: item[1],\n          type: item[2],\n          faculty: item[3],\n          subject: item[4],\n          dept: item[5],\n          date_added: item[6]\n        });\n      });\n      console.log(arr);\n      setMaterials(arr);\n      ab(arr);\n    });\n    setTimeout(setLoad, 2000);\n  }, []);\n\n  function getDept() {\n    var str = window.location.pathname.split(\"/\");\n    var res = \"\";\n    var fres = \"\";\n\n    for (var i = 0; i < str.length; i++) {\n      res += str[i];\n    }\n\n    res = res.split(\"%20\");\n\n    for (var _i = 0; _i < res.length; _i++) {\n      fres += res[_i] + \" \";\n    }\n\n    return fres.trim();\n  }\n\n  function setFlag(e) {\n    setFla(e);\n  }\n\n  var paddingLeft = \"5%\";\n  var width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n  if (width < 1700) paddingLeft = \"3.5%\";\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, !loading ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"calc(100vw - 275px)\",\n      position: \"fixed\",\n      height: \"100vh\",\n      overflow: \"hidden\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      paddingTop: \"2%\",\n      width: \"calc(100vw - 320px)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      paddingLeft: paddingLeft,\n      color: \"#bc6ff1\",\n      width: \"100%\",\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      color: \"#474f85\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, \"Section \" + props.heading)), isFaculty() && dept() == getDept() && /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AddMaterial, {\n    secId: props.secId,\n    flag: setFlag,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  })), isFaculty() && dept() == getDept() && /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AddClass, {\n    section: props.secId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginLeft: \"-5.5%\",\n      zIndex: \"1\",\n      marginTop: \"3.5%\",\n      marginBottom: \"50px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    caption: \"Recently Added Materials\",\n    type: \"home\",\n    contents: a,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  })))) : /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/home/manjukrishna/Desktop/web_mini_project/frontend/src/components/Sectionright.jsx"],"names":["React","Table","Tooltip","AddMaterial","Loading","isHod","isFaculty","dept","AddClass","Secright","props","useState","materials","setMaterials","a","ab","flag","setFla","loading","setLoading","setLoad","useEffect","fetch","method","cache","headers","body","JSON","stringify","secId","then","response","json","data","arr","material","map","item","index","push","link","desc","type","faculty","subject","date_added","console","log","setTimeout","getDept","str","window","location","pathname","split","res","fres","i","length","trim","setFlag","e","paddingLeft","width","innerWidth","document","documentElement","clientWidth","position","height","overflow","paddingTop","color","textAlign","heading","marginLeft","zIndex","marginTop","marginBottom"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Table from \"./DescTable\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport AddMaterial from \"./AddMaterial\";\nimport Loading from \"./LoadingContent\";\nimport {isHod,isFaculty,dept} from \"./Util\";\nimport AddClass from \"./AddClassLink\";\n\nexport default function Secright(props) {\n  const [materials,setMaterials]=React.useState([]);\n  const [a,ab]=React.useState([]);\n  const [flag,setFla]=React.useState(false);\n  const [loading,setLoading]=React.useState(true);\n\n  function setLoad(){\n    setLoading(false);\n  }\n\n  React.useEffect(()=>{\n    fetch(\"/getSectionTable\",{\n      method:\"POST\",\n      cache:\"no-cache\",\n      headers:{\n        \"content_type\":\"application/json\",\n      },\n      body:JSON.stringify(props.secId)\n     }).then(response=>response.json()).then(data=>{\n      const arr=[]\n      data.material.map((item,index)=>arr.push(\n      {\n         link:item[0],\n         desc:item[1],\n         type:item[2],\n         faculty:item[3],\n         subject:item[4],\n         dept:item[5],\n         date_added:item[6]\n      }))\n     console.log(arr);\n     setMaterials(arr);\n     ab(arr);\n});\nsetTimeout(setLoad,2000)\n},[]);\n\nfunction getDept() {\n  let str = window.location.pathname.split(\"/\");\n  let res = \"\";\n  let fres = \"\";\n  for (let i = 0; i < str.length; i++) res += str[i];\n  res = res.split(\"%20\");\n  for (let i = 0; i < res.length; i++) fres += res[i] + \" \";\n  return fres.trim();\n}\n\nfunction setFlag(e){\n  setFla(e);\n}\n  let paddingLeft = \"5%\";\n  const width =\n    window.innerWidth ||\n    document.documentElement.clientWidth ||\n    document.body.clientWidth;\n  if (width < 1700) paddingLeft = \"3.5%\";\n  return (\n    <div>\n  { !loading ?\n    <div\n      style={{\n        width: \"calc(100vw - 275px)\",\n        position: \"fixed\",\n        height: \"100vh\",\n        overflow: \"hidden\"\n      }}\n    >\n   <div>\n      <table\n        style={{\n          paddingTop: \"2%\",\n          width: \"calc(100vw - 320px)\"\n        }}\n      >\n        <tr>\n          <td\n            style={{\n              paddingLeft: paddingLeft,\n              color: \"#bc6ff1\",\n              width: \"100%\",\n              textAlign: \"left\"\n            }}\n          >\n            <h1\n              style={{\n                color: \"#474f85\"\n              }}\n            >\n              {\"Section \" + props.heading}\n            </h1>\n          </td>{\n             isFaculty() && dept()==getDept() &&\n          <td>\n            <AddMaterial secId={props.secId} flag={setFlag}/>\n          </td>}\n          {\n            isFaculty() && dept()==getDept() &&\n            <td>\n            <AddClass section={props.secId}/>\n          </td>\n          }\n        </tr>\n      </table>\n      <div\n        style={{\n          marginLeft: \"-5.5%\",\n          zIndex: \"1\",\n          marginTop: \"3.5%\",\n          marginBottom: \"50px\"\n        }}\n      >\n        <Table caption=\"Recently Added Materials\" type=\"home\" contents={a} />\n      </div>\n      </div>\n    </div>\n    :\n      <Loading/>\n      }\n    </div>\n    \n  );\n}\n"]},"metadata":{},"sourceType":"module"}
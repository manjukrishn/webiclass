{"ast":null,"code":"import _slicedToArray from \"/home/manjukrishna/Desktop/web_mini_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/manjukrishna/Desktop/web_mini_project/frontend/src/components/Department.jsx\";\nimport React from \"react\";\nimport Sidebar from \"./Sidebar\";\nimport Deptright from \"./Departmentright\";\nimport RouteWithSubRoutes from \"./RouteWithSubroutes\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nexport default function Dept(_ref) {\n  var routes = _ref.routes;\n\n  function getDept() {\n    var str = window.location.pathname.split(\"/\");\n    var res = \"\";\n    var fres = \"\";\n\n    for (var i = 0; i < str.length; i++) {\n      res += str[i];\n    }\n\n    res = res.split(\"%20\");\n\n    for (var _i = 0; _i < res.length; _i++) {\n      fres += res[_i] + \" \";\n    }\n\n    console.log(fres.trim());\n    return fres.trim();\n  }\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      sections = _React$useState2[0],\n      setSection = _React$useState2[1];\n\n  React.useEffect(function () {\n    fetch(\"/getSection\", {\n      method: \"POST\",\n      cache: \"no-cache\",\n      headers: {\n        \"content_type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        dept: getDept()\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      console.log(json.sections);\n      var arr = [];\n      json.sections.map(function (item, index) {\n        arr.push({\n          section_id: item[0],\n          section_name: item[1],\n          no_of_subjects: item[2],\n          no_of_students: item[3]\n        });\n      });\n      console.log(arr);\n      setSection(arr);\n    });\n  }, [getDept()]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Deptright, {\n    section: sections,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/home/manjukrishna/Desktop/web_mini_project/frontend/src/components/Department.jsx"],"names":["React","Sidebar","Deptright","RouteWithSubRoutes","BrowserRouter","Router","Switch","Route","Link","Dept","routes","getDept","str","window","location","pathname","split","res","fres","i","length","console","log","trim","useState","sections","setSection","useEffect","fetch","method","cache","headers","body","JSON","stringify","dept","then","json","arr","map","item","index","push","section_id","section_name","no_of_subjects","no_of_students","height"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Sidebar from \"./Sidebar\";\nimport Deptright from \"./Departmentright\";\nimport RouteWithSubRoutes from \"./RouteWithSubroutes\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nexport default function Dept({ routes }) {\n  function getDept() {\n    let str = window.location.pathname.split(\"/\");\n    let res = \"\";\n    let fres = \"\";\n    for (let i = 0; i < str.length; i++) res += str[i];\n    res = res.split(\"%20\");\n    for (let i = 0; i < res.length; i++) fres += res[i] + \" \";\n    console.log(fres.trim())\n    return fres.trim();\n  }\n  const [sections,setSection] = React.useState([]);\n  React.useEffect(()=>{\n    fetch(\"/getSection\",{\n      method:\"POST\",\n      cache:\"no-cache\",\n      headers:{\n        \"content_type\":\"application/json\",\n      },\n      body:JSON.stringify({dept:getDept()})\n     }).then(res=>{\n       return res.json()\n    }).then(json=>{\n      console.log(json.sections);\n      const arr=[]\n      json.sections.map((item,index)=>{\n        arr.push({section_id:item[0],section_name:item[1],no_of_subjects:item[2],no_of_students:item[3]})\n      });\n      console.log(arr);\n      setSection(arr);      \n    })\n  },[getDept()]);\n  \n  return (\n    <div style={{ height: \"100%\" }}>\n            <Deptright section={sections}/>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
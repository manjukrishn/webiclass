{"ast":null,"code":"import _slicedToArray from \"/home/manjukrishna/Desktop/web_mini_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/manjukrishna/Desktop/web_mini_project/frontend/src/components/Department.jsx\";\nimport React from \"react\";\nimport Deptright from \"./Departmentright\";\nimport Loading from \"./LoadingContent\";\nexport default function Dept(_ref) {\n  var routes = _ref.routes;\n\n  function getDept() {\n    var str = window.location.pathname.split(\"/\");\n    var res = \"\";\n    var fres = \"\";\n\n    for (var i = 0; i < str.length; i++) {\n      res += str[i];\n    }\n\n    res = res.split(\"%20\");\n\n    for (var _i = 0; _i < res.length; _i++) {\n      fres += res[_i] + \" \";\n    }\n\n    console.log(fres.trim());\n    return fres.trim();\n  }\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      sections = _React$useState2[0],\n      setSection = _React$useState2[1];\n\n  var _React$useState3 = React.useState(true),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      loading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  function setLoad() {\n    setLoading(false);\n  }\n\n  React.useEffect(function () {\n    fetch(\"/getSection\", {\n      method: \"POST\",\n      cache: \"no-cache\",\n      headers: {\n        \"content_type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        dept: getDept()\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      console.log(json.sections);\n      var arr = [];\n      json.sections.map(function (item, index) {\n        arr.push({\n          section_id: item[0],\n          section_name: item[1],\n          no_of_subjects: item[2],\n          no_of_students: item[3]\n        });\n      });\n      console.log(arr);\n      setSection(arr);\n    });\n    setTimeout(setLoad, 2000);\n  }, [getDept()]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, !loading ? /*#__PURE__*/React.createElement(Deptright, {\n    section: sections,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 19\n    }\n  }) : /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 53\n    }\n  }));\n}","map":{"version":3,"sources":["/home/manjukrishna/Desktop/web_mini_project/frontend/src/components/Department.jsx"],"names":["React","Deptright","Loading","Dept","routes","getDept","str","window","location","pathname","split","res","fres","i","length","console","log","trim","useState","sections","setSection","loading","setLoading","setLoad","useEffect","fetch","method","cache","headers","body","JSON","stringify","dept","then","json","arr","map","item","index","push","section_id","section_name","no_of_subjects","no_of_students","setTimeout","height"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Deptright from \"./Departmentright\";\nimport Loading from \"./LoadingContent\";\n\nexport default function Dept({ routes }) {\n  function getDept() {\n    let str = window.location.pathname.split(\"/\");\n    let res = \"\";\n    let fres = \"\";\n    for (let i = 0; i < str.length; i++) res += str[i];\n    res = res.split(\"%20\");\n    for (let i = 0; i < res.length; i++) fres += res[i] + \" \";\n    console.log(fres.trim())\n    return fres.trim();\n  }\n  const [sections,setSection] = React.useState([]);\n  const [loading,setLoading]=React.useState(true);\n\n  function setLoad(){\n    setLoading(false);\n  }\n\n  React.useEffect(()=>{\n    fetch(\"/getSection\",{\n      method:\"POST\",\n      cache:\"no-cache\",\n      headers:{\n        \"content_type\":\"application/json\",\n      },\n      body:JSON.stringify({dept:getDept()})\n     }).then(res=>{\n       return res.json()\n    }).then(json=>{\n      console.log(json.sections);\n      const arr=[]\n      json.sections.map((item,index)=>{\n        arr.push({section_id:item[0],section_name:item[1],no_of_subjects:item[2],no_of_students:item[3]})\n      });\n      console.log(arr);\n      setSection(arr);      \n    })\n   setTimeout(setLoad,2000)\n  },[getDept()]);\n\n  return (\n    <div style={{ height: \"100%\" }}>\n  {    !loading ? <Deptright section={sections}/> : <Loading/>}    \n</div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
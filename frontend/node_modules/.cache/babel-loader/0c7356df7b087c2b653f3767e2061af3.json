{"ast":null,"code":"import _objectSpread from \"/home/manjukrishna/Desktop/web_mini_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/manjukrishna/Desktop/web_mini_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/manjukrishna/Desktop/web_mini_project/frontend/src/components/Profileright.jsx\";\nimport React from \"react\";\nimport Table from \"./DescTable\";\nimport RemoveProf from \"./RemoveProf\";\nimport RemoveCircleIcon from \"@material-ui/icons/RemoveCircle\";\nimport AddProfessor from \"./AddProfessors\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport Attendance from \"./Attendance\";\nimport { isHod, isAdminDept, isFaculty } from \"./Util\";\nexport default function Profileright(props) {\n  var _React$useState = React.useState(true),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      disabled = _React$useState2[0],\n      setDisabled = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      invalid = _React$useState4[0],\n      setInvalid = _React$useState4[1];\n\n  var DarkerDisabledTextField = withStyles({\n    root: {\n      marginRight: 8,\n      \"& .MuiInputBase-root.Mui-disabled\": {\n        color: \"black\"\n      }\n    }\n  })(TextField); // const [values,setValues]=React.useState({\n  //   name:props.details.name.charAt(0).toUpperCase()+props.details.name.slice(1).toLowerCase(),\n  //   newEmail:props.details.email,\n  //   prevEmail:props.details.email\n  // })\n\n  var _React$useState5 = React.useState({\n    name: props.details.name.charAt(0).toUpperCase() + props.details.name.slice(1).toLowerCase(),\n    newEmail: props.details.email,\n    prevEmail: props.details.email\n  }),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      values = _React$useState6[0],\n      setValues = _React$useState6[1];\n\n  var validate = function validate(email) {\n    var mailFormat = /^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]{2,4})+)*$/;\n\n    if (email.match(mailFormat)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  function setFlag(e) {\n    props.setFlag(e);\n  }\n\n  function handleChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setValues(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        [name]: value\n      });\n    });\n  }\n\n  function handleClickUpdate() {\n    setInvalid(validate(values.newEmail));\n    setDisabled(true);\n\n    if (!invalid) {\n      fetch(\"/updateProfile\", {\n        method: \"POST\",\n        cache: \"no-cache\",\n        headers: {\n          \"content_type\": \"application/json\"\n        },\n        body: JSON.stringify(values)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        console.log(json.status);\n      });\n    }\n  }\n\n  function handleClickCancel() {\n    setValues({\n      name: props.details.name.charAt(0).toUpperCase() + props.details.name.slice(1).toLowerCase(),\n      newEmail: props.details.email,\n      prevEmail: props.details.email\n    });\n    setDisabled(true);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"calc(100vw - 275px)\",\n      position: \"fixed\",\n      height: \"100vh\",\n      overflow: \"hidden\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      padding: \"15px 15px 0px 15px\",\n      width: \"calc(100vw - 275px)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"col\", {\n    style: {\n      width: \"60%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"col\", {\n    style: {\n      width: \"15%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"col\", {\n    style: {\n      width: \"15%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"col\", {\n    style: {\n      width: \"15%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }), isHod() && /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      textAlign: \"right\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(AddProfessor, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  })), isHod() && /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(RemoveProf, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  })), isFaculty() && /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Attendance, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      marginTop: \"2%\",\n      marginLeft: \"5%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"colgroup\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"col\", {\n    style: {\n      width: \"25%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"col\", {\n    style: {\n      width: \"25%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"col\", {\n    style: {\n      width: \"25%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, disabled ? /*#__PURE__*/React.createElement(DarkerDisabledTextField, {\n    disabled: true,\n    id: \"outlined-basic\",\n    label: \"Name\",\n    name: \"name\",\n    value: values.name,\n    variant: \"outlined\",\n    style: {\n      width: \"200px\"\n    },\n    onClick: function onClick() {\n      setDisabled(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-basic\",\n    label: \"Name\",\n    name: \"name\",\n    value: values.name,\n    variant: \"outlined\",\n    onChange: handleChange,\n    style: {\n      width: \"200px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DarkerDisabledTextField, {\n    disabled: true,\n    id: \"outlined-basic\",\n    label: \"Department\",\n    value: props.details.dept,\n    variant: \"outlined\",\n    name: \"dept\",\n    onChange: handleChange,\n    style: {\n      width: \"200px\"\n    },\n    onClick: function onClick() {\n      setDisabled(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, disabled ? /*#__PURE__*/React.createElement(DarkerDisabledTextField, {\n    disabled: true,\n    id: \"outlined-basic\",\n    label: \"Email\",\n    name: \"newEmail\",\n    value: values.newEmail,\n    variant: \"outlined\",\n    style: {\n      width: \"200px\"\n    },\n    onClick: function onClick() {\n      setDisabled(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }) : !invalid ? /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-basic\",\n    label: \"Email\",\n    name: \"newEmail\",\n    value: values.newEmail,\n    variant: \"outlined\",\n    style: {\n      width: \"200px\"\n    },\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(TextField, {\n    error: true,\n    id: \"outlined-basic\",\n    label: \"Invalid email\",\n    name: \"newEmail\",\n    value: values.newEmail,\n    variant: \"outlined\",\n    style: {\n      width: \"200px\"\n    },\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }))), !disabled && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"5%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    style: {\n      borderRadius: \"25px\"\n    },\n    onClick: handleClickUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 15\n    }\n  }, \"Update\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClickCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, \"Cancel\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginLeft: \"-5.5%\",\n      zIndex: \"1\",\n      marginTop: \"3%\",\n      marginBottom: \"50px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    caption: \"Materials Added\",\n    type: \"profile\",\n    contents: props.materials,\n    setFlag: setFlag,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/home/manjukrishna/Desktop/web_mini_project/frontend/src/components/Profileright.jsx"],"names":["React","Table","RemoveProf","RemoveCircleIcon","AddProfessor","withStyles","TextField","AccountCircleIcon","IconButton","Button","Attendance","isHod","isAdminDept","isFaculty","Profileright","props","useState","disabled","setDisabled","invalid","setInvalid","DarkerDisabledTextField","root","marginRight","color","name","details","charAt","toUpperCase","slice","toLowerCase","newEmail","email","prevEmail","values","setValues","validate","mailFormat","match","setFlag","e","handleChange","target","value","prev","handleClickUpdate","fetch","method","cache","headers","body","JSON","stringify","then","response","json","console","log","status","handleClickCancel","width","position","height","overflow","padding","textAlign","marginTop","marginLeft","dept","borderRadius","zIndex","marginBottom","materials"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Table from \"./DescTable\";\nimport RemoveProf from \"./RemoveProf\";\nimport RemoveCircleIcon from \"@material-ui/icons/RemoveCircle\";\nimport AddProfessor from \"./AddProfessors\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport Attendance from \"./Attendance\";\nimport {isHod,isAdminDept, isFaculty} from \"./Util\";\n\nexport default function Profileright(props) {\n  const [disabled,setDisabled]=React.useState(true);\n  const [invalid,setInvalid]=React.useState(false);\n  \n  const DarkerDisabledTextField = withStyles({\n    root: {\n      marginRight: 8,\n      \"& .MuiInputBase-root.Mui-disabled\": {\n        color: \"black\"\n      }\n    }\n  })(TextField);\n  \n  // const [values,setValues]=React.useState({\n  //   name:props.details.name.charAt(0).toUpperCase()+props.details.name.slice(1).toLowerCase(),\n  //   newEmail:props.details.email,\n  //   prevEmail:props.details.email\n  // })\n\n  const [values,setValues]=React.useState({\n    name:props.details.name.charAt(0).toUpperCase()+props.details.name.slice(1).toLowerCase(),\n    newEmail:props.details.email,\n    prevEmail:props.details.email\n  })\n\n  const validate = (email) => {\n    const mailFormat = /^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]{2,4})+)*$/;\n    if(email.match(mailFormat)){\n      return false;\n    }\n    return true;\n  };\n  function setFlag(e){\n    props.setFlag(e);\n  }\n\n  function handleChange(e){  \n    const {name,value}=e.target;\n    setValues((prev)=>{\n      return{\n        ...prev,\n        [name]:value\n      }\n    })\n  }\n  \n  function handleClickUpdate(){\n     setInvalid(validate(values.newEmail));\n     setDisabled(true);\n     if(!invalid){\n      fetch(\"/updateProfile\", {\n        method:\"POST\",\n        cache: \"no-cache\",\n        headers:{\n            \"content_type\":\"application/json\",\n        },\n         body:JSON.stringify(values)\n        }\n      ).then(response => {\n      return response.json()\n     })\n     .then(json => {\n        console.log(json.status);  \n     })\n     }\n  }\n\n  function handleClickCancel(){\n    setValues({\n      name:props.details.name.charAt(0).toUpperCase()+props.details.name.slice(1).toLowerCase(),\n      newEmail:props.details.email,\n      prevEmail:props.details.email    \n    })\n    setDisabled(true);\n  }\n  return (\n    <div\n      style={{\n        width: \"calc(100vw - 275px)\",\n        position: \"fixed\",\n        height: \"100vh\",\n        overflow: \"hidden\"\n      }}\n    >\n      <table\n        style={{\n          padding: \"15px 15px 0px 15px\",\n          width: \"calc(100vw - 275px)\"\n        }}\n      >\n        <col style={{ width: \"60%\" }} />\n        <col style={{ width: \"15%\" }} />\n        <col style={{ width: \"15%\" }} />\n        <col style={{ width: \"15%\" }} />\n        <tr>\n          <td></td>\n          {isHod() && <td style={{ textAlign: \"right\" }}>\n            <AddProfessor />\n          </td>}\n          {isHod() && <td style={{ textAlign: \"center\" }}>\n            <RemoveProf/>\n          </td>}\n          {isFaculty() && <td style={{ textAlign: \"left\" }}>\n            <Attendance/>\n          </td>}\n        </tr>\n      </table>\n      <table style={{ marginTop: \"2%\", marginLeft: \"5%\" }}>\n        <colgroup>\n          <col style={{ width: \"25%\" }} />\n          <col style={{ width: \"25%\" }} />\n          <col style={{ width: \"25%\" }} />\n        </colgroup>\n        <tr>\n          <td style={{ textAlign: \"left\"  }}>\n            {disabled ?\n            <DarkerDisabledTextField\n              disabled={true}              \n              id=\"outlined-basic\"\n              label=\"Name\"\n              name=\"name\"\n              value={values.name}\n              variant=\"outlined\"\n              style={{ width: \"200px\" }}\n              onClick={()=>{setDisabled(false)}}\n            />:\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Name\"\n              name=\"name\"\n              value={values.name}\n              variant=\"outlined\"\n              onChange={handleChange}\n              style={{ width: \"200px\" }}\n            />}\n          </td>\n          <td>\n            <DarkerDisabledTextField\n              disabled={true}\n              id=\"outlined-basic\"\n              label=\"Department\"\n              value={props.details.dept}\n              variant=\"outlined\"\n              name=\"dept\"\n              onChange={handleChange}\n              style={{ width: \"200px\" }}\n              onClick={()=>{setDisabled(false)}}\n            />\n          </td>\n          <td>\n          {  disabled ? \n            <DarkerDisabledTextField\n              disabled={true}\n              id=\"outlined-basic\"\n              label=\"Email\"\n              name=\"newEmail\"\n              value={values.newEmail}\n              variant=\"outlined\"\n              style={{ width: \"200px\" }}\n              onClick={()=>{setDisabled(false)}}\n            />\n            :\n            !invalid ?\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Email\"\n              name=\"newEmail\"\n              value={values.newEmail}\n              variant=\"outlined\"\n              style={{ width: \"200px\" }}\n              onChange={handleChange}\n\n            />:\n            <TextField\n              error\n              id=\"outlined-basic\"\n              label=\"Invalid email\"\n              name=\"newEmail\"\n              value={values.newEmail}\n              variant=\"outlined\"\n              style={{ width: \"200px\" }}\n              onChange={handleChange}\n            />\n            }\n          </td>\n        </tr>\n        {!disabled && \n        <tr>\n        <td></td>\n        <td></td>\n        <td>\n           <div style={{marginTop:\"5%\"}}>\n              <Button variant=\"contained\" color=\"primary\" style={{borderRadius:\"25px\"}} onClick={handleClickUpdate}>Update</Button>\n              <Button onClick={handleClickCancel} >Cancel</Button>\n           </div>          \n        </td>\n        </tr>}\n      </table>\n      <div\n        style={{\n          marginLeft: \"-5.5%\",\n          zIndex: \"1\",\n          marginTop: \"3%\",\n          marginBottom: \"50px\"\n        }}\n      >\n        <Table caption=\"Materials Added\" type=\"profile\" contents={props.materials} setFlag={setFlag}/>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}